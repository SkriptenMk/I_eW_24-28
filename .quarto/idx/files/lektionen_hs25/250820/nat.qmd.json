{"title":"3 Network Address Translation (NAT)","markdown":{"yaml":{"title":"3 Network Address Translation (NAT)","date":"2025-08-20","date-format":"DD.MM.YYYY","author":"Jacques Mock Schindler"},"headingText":"What is NAT?","containsRefs":false,"markdown":"\n\n\nNetwork Address Translation (NAT) is a process for automatically and\ntransparently translating IP addresses in data packets. NAT enables\nmultiple devices in a private network to communicate with the Internet\nvia a single public IP address. This technology was developed to address\nthe scarcity of IPv4 addresses while increasing the security of private\nnetworks. \n\nIn practice, this means that if you connect multiple devices (laptop,\nsmartphone, smart TV) to the Internet at home, all of these devices\nshare a single public IP address assigned to you by your Internet\nservice provider. \n\n## How NAT works\n\n### Basic principle\n\nNAT operates at layer 3 of the OSI model and changes the addresses in\nthe IP header of data packets. The process works as follows: \n\n1. **Outgoing connection:** A device on the private network (e.g.\n   192.168.1.10) sends a request to a server on the Internet. \n2. **Address translation:** The NAT router replaces the private source\n   IP address with its public IP address (e.g. 203.0.113.5). \n3. **Table entry:** The router stores the assignment in a NAT table.\n4. **Response:** When the server responds, the router uses the NAT table\n   to forward the response to the correct device on the private network. \n\n### NAT table\n\nThe NAT table is at the heart of the process. It contains the following\ninformation: \n\n- **Private IP address** (e.g. 192.168.1.10)\n- **Private port** (e.g. 54321)\n- **Public IP address** (e.g. 203.0.113.5)\n- **Public port** (e.g. 12345)\n- **Destination IP address** (e.g. 93.184.216.34)\n- **Destination port** (e.g. 80)\n\n## Private IP address ranges\n\nSpecial IP address ranges are reserved for private networks that are not\nrouted on the public Internet: \n\n- **10.0.0.0 to 10.255.255.255** (10.0.0.0/8) – 16,777,216 addresses\n- **172.16.0.0 to 172.31.255.255** (172.16.0.0/12) – 1,048,576 addresses  \n- **192.168.0.0 to 192.168.255.255** (192.168.0.0/16) – 65,536 addresses\n\nThese ranges can be reused as often as desired in private networks, as\nthey are only valid locally. \n\n## Types of NAT\n\n### 1. Static NAT (one-to-one NAT)\n\nWith static NAT, a private IP address is permanently assigned to a\npublic IP address. This is used when a server in the private network\nneeds to be permanently accessible from the Internet. \n\n**Example:**\n- Private: 192.168.1.100 ↔ Public: 203.0.113.10\n\n### 2. Dynamic NAT\n\nDynamic NAT dynamically assigns private IP addresses from a pool of\npublic IP addresses. The assignment is made as needed and is released\nagain after a certain period of time. \n\n### 3. Port Address Translation (PAT)\n\n#### What is a port?\n\nTo understand how PAT works, we first need to understand the concept of\nports. An IP address identifies a computer on the network – but many\nprograms run simultaneously on a computer, all of which want to use\nnetwork connections. \n\n**Analogy:** Imagine the IP address as the postal address of a high-rise\nbuilding. The port number then corresponds to the apartment number. Just\nas the post office knows which apartment a letter belongs to, the\ncomputer knows which program the data should be delivered to based on\nthe port number. \n\nPorts are 16-bit numbers (0 to 65,535) and are divided into three\ncategories: \n- **Well-known ports (0-1023):** Reserved for standard services\n  - Port 80: HTTP (websites)\n  - Port 443: HTTPS (encrypted websites)\n  - Port 22: SSH (secure connection)\n  - Port 25: SMTP (email transmission)\n- **Registered ports (1024-49,151):** For registered services\n- **Dynamic/private ports (49,152-65,535):** Freely usable\n\n#### How PAT works\n\nPAT, also known as NAT overload, is the most common form of NAT. Here,\nmany private IP addresses share a single public IP address, with\ndifferentiation based on port numbers. \n\nThe router not only remembers which private IP address has established a\nconnection, but also which port. This allows multiple devices to\ncommunicate simultaneously via the same public IP address. \n\n**Calculation example:**\nWith 16-bit port numbers, $2^{16} = 65,536$ ports are theoretically\navailable. Minus the reserved ports (0-1023), this leaves approximately\n64,512 usable ports for simultaneous connections. In practice, this\nmeans that a home router could theoretically manage over 64,000\nsimultaneous connections. \n\n## Advantages and disadvantages\n\n### Advantages\n\n- **IP address savings:** A household with 20 devices only needs one\n  public IP address \n- **Security:** Private IP addresses are not directly accessible from\n  the outside \n- **Flexibility:** The internal network structure can be changed without\n  affecting the public address \n\n### Disadvantages\n\n- **End-to-end connectivity:** Direct connections between devices are\n  made more difficult \n- **Complexity:** Certain applications (e.g. VoIP, online gaming)\n  require special configurations \n- **Performance:** Address translation requires computing power and can\n  cause delays \n\n## Practical example\n\nLet's consider a typical home router:\n\n1. **Your laptop** (192.168.1.15) opens the website www.example.com \n2. **HTTP request:** \n   - Source: 192.168.1.15:45678\n   - Destination: 93.184.216.34:80\n3. **NAT router translates:**\n   - Source: 85.5.123.45:23456 (public IP)\n   - Destination: 93.184.216.34:80\n4. **Server responds:**\n   - Source: 93.184.216.34:80\n   - Destination: 85.5.123.45:23456\n5. **Router translates back:**\n   - Source: 93.184.216.34:80\n   - Destination: 192.168.1.15:45678\n\n## Significance for the future\n\nWith the introduction of IPv6 and its $2^{128}$ possible addresses, NAT\nwill theoretically become superfluous. In practice, however, NAT will\ncontinue to be used because: \n\n- Many networks are still based on IPv4\n- NAT provides additional security\n- The transition to IPv6 is taking place gradually\n\nNAT therefore remains an important technology for the modern Internet,\nsolving both the address shortage and contributing to network security. ","srcMarkdownNoYaml":"\n\n## What is NAT?\n\nNetwork Address Translation (NAT) is a process for automatically and\ntransparently translating IP addresses in data packets. NAT enables\nmultiple devices in a private network to communicate with the Internet\nvia a single public IP address. This technology was developed to address\nthe scarcity of IPv4 addresses while increasing the security of private\nnetworks. \n\nIn practice, this means that if you connect multiple devices (laptop,\nsmartphone, smart TV) to the Internet at home, all of these devices\nshare a single public IP address assigned to you by your Internet\nservice provider. \n\n## How NAT works\n\n### Basic principle\n\nNAT operates at layer 3 of the OSI model and changes the addresses in\nthe IP header of data packets. The process works as follows: \n\n1. **Outgoing connection:** A device on the private network (e.g.\n   192.168.1.10) sends a request to a server on the Internet. \n2. **Address translation:** The NAT router replaces the private source\n   IP address with its public IP address (e.g. 203.0.113.5). \n3. **Table entry:** The router stores the assignment in a NAT table.\n4. **Response:** When the server responds, the router uses the NAT table\n   to forward the response to the correct device on the private network. \n\n### NAT table\n\nThe NAT table is at the heart of the process. It contains the following\ninformation: \n\n- **Private IP address** (e.g. 192.168.1.10)\n- **Private port** (e.g. 54321)\n- **Public IP address** (e.g. 203.0.113.5)\n- **Public port** (e.g. 12345)\n- **Destination IP address** (e.g. 93.184.216.34)\n- **Destination port** (e.g. 80)\n\n## Private IP address ranges\n\nSpecial IP address ranges are reserved for private networks that are not\nrouted on the public Internet: \n\n- **10.0.0.0 to 10.255.255.255** (10.0.0.0/8) – 16,777,216 addresses\n- **172.16.0.0 to 172.31.255.255** (172.16.0.0/12) – 1,048,576 addresses  \n- **192.168.0.0 to 192.168.255.255** (192.168.0.0/16) – 65,536 addresses\n\nThese ranges can be reused as often as desired in private networks, as\nthey are only valid locally. \n\n## Types of NAT\n\n### 1. Static NAT (one-to-one NAT)\n\nWith static NAT, a private IP address is permanently assigned to a\npublic IP address. This is used when a server in the private network\nneeds to be permanently accessible from the Internet. \n\n**Example:**\n- Private: 192.168.1.100 ↔ Public: 203.0.113.10\n\n### 2. Dynamic NAT\n\nDynamic NAT dynamically assigns private IP addresses from a pool of\npublic IP addresses. The assignment is made as needed and is released\nagain after a certain period of time. \n\n### 3. Port Address Translation (PAT)\n\n#### What is a port?\n\nTo understand how PAT works, we first need to understand the concept of\nports. An IP address identifies a computer on the network – but many\nprograms run simultaneously on a computer, all of which want to use\nnetwork connections. \n\n**Analogy:** Imagine the IP address as the postal address of a high-rise\nbuilding. The port number then corresponds to the apartment number. Just\nas the post office knows which apartment a letter belongs to, the\ncomputer knows which program the data should be delivered to based on\nthe port number. \n\nPorts are 16-bit numbers (0 to 65,535) and are divided into three\ncategories: \n- **Well-known ports (0-1023):** Reserved for standard services\n  - Port 80: HTTP (websites)\n  - Port 443: HTTPS (encrypted websites)\n  - Port 22: SSH (secure connection)\n  - Port 25: SMTP (email transmission)\n- **Registered ports (1024-49,151):** For registered services\n- **Dynamic/private ports (49,152-65,535):** Freely usable\n\n#### How PAT works\n\nPAT, also known as NAT overload, is the most common form of NAT. Here,\nmany private IP addresses share a single public IP address, with\ndifferentiation based on port numbers. \n\nThe router not only remembers which private IP address has established a\nconnection, but also which port. This allows multiple devices to\ncommunicate simultaneously via the same public IP address. \n\n**Calculation example:**\nWith 16-bit port numbers, $2^{16} = 65,536$ ports are theoretically\navailable. Minus the reserved ports (0-1023), this leaves approximately\n64,512 usable ports for simultaneous connections. In practice, this\nmeans that a home router could theoretically manage over 64,000\nsimultaneous connections. \n\n## Advantages and disadvantages\n\n### Advantages\n\n- **IP address savings:** A household with 20 devices only needs one\n  public IP address \n- **Security:** Private IP addresses are not directly accessible from\n  the outside \n- **Flexibility:** The internal network structure can be changed without\n  affecting the public address \n\n### Disadvantages\n\n- **End-to-end connectivity:** Direct connections between devices are\n  made more difficult \n- **Complexity:** Certain applications (e.g. VoIP, online gaming)\n  require special configurations \n- **Performance:** Address translation requires computing power and can\n  cause delays \n\n## Practical example\n\nLet's consider a typical home router:\n\n1. **Your laptop** (192.168.1.15) opens the website www.example.com \n2. **HTTP request:** \n   - Source: 192.168.1.15:45678\n   - Destination: 93.184.216.34:80\n3. **NAT router translates:**\n   - Source: 85.5.123.45:23456 (public IP)\n   - Destination: 93.184.216.34:80\n4. **Server responds:**\n   - Source: 93.184.216.34:80\n   - Destination: 85.5.123.45:23456\n5. **Router translates back:**\n   - Source: 93.184.216.34:80\n   - Destination: 192.168.1.15:45678\n\n## Significance for the future\n\nWith the introduction of IPv6 and its $2^{128}$ possible addresses, NAT\nwill theoretically become superfluous. In practice, however, NAT will\ncontinue to be used because: \n\n- Many networks are still based on IPv4\n- NAT provides additional security\n- The transition to IPv6 is taking place gradually\n\nNAT therefore remains an important technology for the modern Internet,\nsolving both the address shortage and contributing to network security. "},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["../../../styles.css"],"toc":true,"output-file":"nat.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.7.31","theme":["cosmo","brand"],"title":"3 Network Address Translation (NAT)","date":"2025-08-20","date-format":"DD.MM.YYYY","author":"Jacques Mock Schindler"},"extensions":{"book":{"multiFile":true}}},"pdf":{"identifier":{"display-name":"PDF","target-format":"pdf","base-format":"pdf"},"execute":{"fig-width":5.5,"fig-height":3.5,"fig-format":"pdf","fig-dpi":300,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"pdf","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":true,"merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"pdf-engine":"xelatex","standalone":true,"variables":{"graphics":true,"tables":true},"default-image-extension":"pdf","to":"pdf","pdf-engine-opts":["-shell-escape"],"toc":false,"output-file":"nat.pdf"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"block-headings":true,"mainfont":"Arial","fontsize":"11pt","documentclass":"scrartcl","classoption":"a4paper","listings-package":{"columns":"fullflexible","break-at-whitespace":true},"title":"3 Network Address Translation (NAT)","date":"2025-08-20","date-format":"DD.MM.YYYY","author":"Jacques Mock Schindler"},"extensions":{"book":{"selfContainedOutput":true}}}},"projectFormats":["html","pdf"]}